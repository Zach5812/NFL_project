<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
  <link rel="stylesheet" href="/static/style.css">
  <title>Dashboard</title>

<body>
  {% if player_id %}
  <a href="/" class="btn btn-danger home2">Go Home</a>
  <div class="player_stats">
    <h1>{{player_id.displayName}}</h1>
    <div class="table-responsive" style="width: 100%;">
      <table class="table table-hover">
        <h3>{{data.categories[0].displayName}} Stats</h3>
        <thead>
          <tr>
            <th scope="col">Year</th>
            <th scope="col">Team</th>
            {% for i in data.categories[0].displayNames %}
            <th scope="col">{{i}}</th>
            {% endfor %}

          </tr>
        </thead>
        <tbody>
          <tr>{% for j in data.categories[0].statistics %}
            <td>{{j.season.year}}</td>
            <td>{{j.teamSlug}}</td>
            {% for k in j.stats %}
            <td>{{k}}{% endfor %}</td>
          </tr>
          {% endfor %}
          <tr>
            <td>Totals</td>
            <td></td>
            {% for x in data.categories[0].totals %}
            <td>
              {{x}}{% endfor %}
            </td>
            
          </tr>
        </tbody>
        </table>
    </div>
    {% if data.categories|length > 1 %}

    <div class="table-responsive" style="width: 100%;">
      <table class="table table-hover">
        <h3>{{data.categories[1].displayName}} Stats</h3>
        <thead>
          <tr>
            <th scope="col">Year</th>
            <th scope="col">Team</th>
            {% for i in data.categories[1].displayNames %}
            <th scope="col">{{i}}</th>
            {% endfor %}

          </tr>
        </thead>
        <tbody>
          <tr>{% for j in data.categories[1].statistics %}
            <td>{{j.season.year}}</td>
            <td>{{j.teamSlug}}</td>
            {% for k in j.stats %}
            <td>{{k}}{% endfor %}</td>
          </tr>
          {% endfor %}
          <tr>
            <td>Totals</td>
            <td></td>
            {% for x in data.categories[1].totals %}
            <td>
              {{x}}{% endfor %}
            </td>
            
          </tr>
        </tbody>
        </table>
    </div>

      {% endif %}

      {% if data.categories|length > 2 %}
      <div class="table-responsive" style="width: 100%;">
        <table class="table table-hover">
          <h3>{{data.categories[2].displayName}} Stats</h3>
          <thead>
            <tr>
              <th scope="col">Year</th>
              <th scope="col">Team</th>
              {% for i in data.categories[2].displayNames %}
              <th scope="col">{{i}}</th>
              {% endfor %}
  
            </tr>
          </thead>
          <tbody>
            <tr>{% for j in data.categories[2].statistics %}
              <td>{{j.season.year}}</td>
              <td>{{j.teamSlug}}</td>
              {% for k in j.stats %}
              <td>{{k}}{% endfor %}</td>
            </tr>
            {% endfor %}
            <tr>
              <td>Totals</td>
              <td></td>
              {% for x in data.categories[2].totals %}
              <td>
                {{x}}{% endfor %}
              </td>
              
            </tr>
          </tbody>
          </table>
      </div>
        {% endif %}


  </div>
    
  {% else %}
  <div  class="error">
    <a href="/" class="btn btn-danger">Go Home</a>
  <div><h3>Player not in database</h3></div>
  </div>
  {% endif %}
</body>